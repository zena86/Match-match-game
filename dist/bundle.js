(()=>{"use strict";var t={423:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".card{position:relative;perspective:1000px}.card.open .front{transform:rotateY(360deg)}.card.open .back{transform:rotateY(180deg)}.front,.back{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;justify-content:center;align-items:center;transition:1s;backface-visibility:hidden;border-radius:4px}.front{background-color:#fff;transform:rotateY(180deg);z-index:5}.pic{position:relative}.pic img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center}.pic-front{width:80%;height:80%}.pic-back{width:100%;height:100%}.front-cover{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;z-index:10}.front-cover.done{background-color:rgba(10,207,131,.5);opacity:.5}.front-cover.failed{background-color:rgba(242,78,30,.5);opacity:.5}.front-mark{position:absolute;top:10px;right:10px;z-index:5}",""]);const i=r},394:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".cover{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.5);z-index:10}.dialog-body{background-color:#fff;padding:50px;position:relative;top:50%;left:50%;transform:translate(-50%, -50%);max-width:400px}.form__alert-text{font-size:14px;line-height:20px;letter-spacing:.25px;color:rgba(0,0,0,.6)}.form__btn{box-shadow:0px 0px 2px rgba(0,0,0,.12),0px 2px 2px rgba(0,0,0,.24);border-radius:4px}.btn_add,.btn_ok{background-color:#2196f3;color:#e3f2fd;margin-right:15px}.btn_ok{width:100px;height:36px;margin:50px 0 0 200px}",""]);const i=r},754:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".game-wrapper{min-height:800px;background:rgba(0,0,0,.05);height:100%;padding:10px}.timer__box{display:flex;align-items:center;justify-content:center;width:200px;height:50px;margin:0 auto 20px;background:#fff;box-shadow:0px 4px 4px rgba(0,0,0,.24)}.timer__value{font-weight:500;font-size:30px;letter-spacing:.15px;color:rgba(0,0,0,.4)}.board{display:flex;flex-wrap:wrap;justify-content:space-between;width:740px;height:740px;margin:0 auto;perspective:1000px}",""]);const i=r},404:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".header{height:64px;background-color:#2196f3}.header__body{display:flex;align-items:center;justify-content:space-between;width:100%}.logo__item{width:80px;height:20px;display:flex;align-items:center;justify-content:center;cursor:pointer}.logo__item span{font-weight:500;font-size:11px;line-height:16px;letter-spacing:1.25px;text-transform:uppercase;color:#2196f3;text-shadow:0px 4px 4px rgba(0,0,0,.25)}.logo__item_top span{color:#fff}.logo__item_bottom span{color:#2196f3}.logo__item_bottom{background-color:#fff}.header__nav{flex-grow:1;padding:0 50px;margin-left:120px}.header__menu{display:flex}.menu-btn{display:flex;align-items:center;justify-content:center;width:96px;height:64px;cursor:pointer}.menu-btn:hover{background-color:#1e88e5}.active-rout{background-color:#1e88e5}.menu-btn__inner{display:flex;flex-direction:column;justify-content:center;align-items:center}.menu-btn__icon{width:25px;height:25px;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#fff;margin-bottom:5px}.menu-btn__text{font-style:normal;font-size:12px;line-height:15px;letter-spacing:.4px;color:#fff}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid transparent;border-radius:4px;padding:10px 15px;font-weight:500;font-size:14px;line-height:16px;letter-spacing:1.25px;text-transform:uppercase;position:relative;top:0px;transition:all ease .3s}.btn:hover{cursor:pointer;background-color:#e3f2fd;color:#1e88e5;border:solid 1px #1e88e5}.header__btn{background-color:#f2f9fe;box-shadow:0px 3px 5px rgba(0,0,0,.2),0px 1px 18px rgba(0,0,0,.12),0px 6px 10px rgba(0,0,0,.14);color:#2196f3}.btn:active{box-shadow:0 3px 0 rgba(0,0,0,.2);top:2px;border:solid 1px #1e88e5}.avatar{width:40px;height:40px;border-radius:50%;position:relative;margin-left:20px}.avatar img{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.header__right{display:flex}",""]);const i=r},61:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,'*{margin:0;padding:0;box-sizing:border-box}a{text-decoration:none}li{list-style:none}body{font-family:"Roboto",sans-serif}.container{max-width:1440px;margin:0 auto}.main__body{max-width:1000px;width:100%;border-radius:5px;margin:20px auto 0}',""]);const i=r},676:(t,e,n)=>{n.d(e,{Z:()=>p});var o=n(645),r=n.n(o),i=n(667),a=n.n(i),s=n(210),l=n(913),d=r()((function(t){return t[1]})),c=a()(s),u=a()(l);d.push([t.id,".cover{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.5);z-index:10}.form{display:flex;flex-direction:column;position:relative;top:50%;left:0;transform:translateY(-50%);width:640px;height:460px;margin:auto;background:#fafafa;box-shadow:0px 1px 5px rgba(0,0,0,.2),0px 3px 4px rgba(0,0,0,.12),0px 2px 4px rgba(0,0,0,.14);border-radius:4px;z-index:100}.form__header{height:67px;background-color:#fff;padding:20px 15px;margin-bottom:0}.form__main{display:flex;padding:30px 20px;min-height:280px}.form__field{display:flex;justify-content:space-between;width:328px;padding:10px 10px 10px 50px;margin-bottom:15px;background:rgba(33,33,33,.08);border-radius:4px 4px 0px 0px;border-bottom:1px solid rgba(0,0,0,.6)}.form__content{display:flex;flex-direction:column}.form__label{font-size:12px;line-height:16px;letter-spacing:.4px;color:rgba(0,0,0,.38)}.form__input{background-color:transparent;border:none;font-size:16px;line-height:24px;letter-spacing:.15px;color:#000}.form__footer{margin-top:auto;max-width:40%;margin:0 20px 0 auto}.form__btns{display:inline-flex;justify-content:flex-end;width:100%;margin-top:30px}.form__btn{box-shadow:0px 0px 2px rgba(0,0,0,.12),0px 2px 2px rgba(0,0,0,.24);border-radius:4px}.btn_add{background-color:#2196f3;color:#e3f2fd;margin-right:15px}.btn_add:disabled{opacity:.5}.btn_add:hover{background-color:#2196f3;color:#e3f2fd}.btn_cancel{background-color:#e3f2fd;color:#2196f3}.btn_hover{background-color:#e3f2fd}.form__mark{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%}.form__mark.invalid{background-color:rgba(242,78,30,.08)}.form__mark.valid{background-color:rgba(1,135,134,.08)}.form__mark.default{display:none}.form__mark.valid>.checkbox{width:20px;height:20px;border-radius:4px;background-color:#018786;background-image:url("+c+");background-repeat:no-repeat;background-position:center center}.form__mark.invalid>.checkbox{width:20px;height:20px;border-radius:4px;background-color:red;background-image:url("+u+");background-repeat:no-repeat;background-position:center center}.form__mark.default>.checkbox{display:none}input:focus{outline:none;-webkit-box-shadow:inset 0 0 0 50px transparent;-webkit-text-fill-color:#000}input{-webkit-box-shadow:inset 0 0 0 50px transparent;-webkit-text-fill-color:#000}.form__avatar{position:relative;margin-left:30px;cursor:pointer}.form__avatar:hover{filter:drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25))}.form__avatar>img{border-radius:50%;width:198px;height:198px}.avatar__plus{position:absolute;top:45%;left:50%;transform:translate(-50%, -50%);opacity:0}.form__avatar:hover>.avatar__plus{opacity:1;transition:all .5s}.hide{position:absolute;overflow:hidden;z-index:-1;width:.1px;height:.1px;opacity:0}",""]);const p=d},361:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".main__rules{min-height:800px;padding:30px 180px 30px 35px;background:rgba(0,0,0,.05)}.main__row{display:flex;justify-content:space-between}.title{font-weight:500;font-size:20px;line-height:30px;color:#000;margin-bottom:20px}.step__num{display:flex;justify-content:center;align-items:center;border-radius:50%;min-width:40px;height:40px;margin-right:15px;background-color:#2196f3;font-size:24px;line-height:21px;display:flex;align-items:center;text-align:center;letter-spacing:.25px;color:#fff}.step__text{font-size:14px;line-height:20px;letter-spacing:.25px;color:rgba(0,0,0,.6)}.step{display:flex;min-height:240px;background-color:#fff;width:360px;padding:15px;margin-bottom:15px}.step_sm{min-height:130px}.menu-btn_main{background-color:#2196f3}.menu-btn_main .menu-btn__text{color:rgba(255,255,255,.7)}.menu-btn_main .menu-btn__text:hover{color:#fff}.img-board{width:300px}.menu-btn_screen{display:flex;align-items:center;justify-content:center;width:96px;height:64px}.menu-btn__inner{display:flex;flex-direction:column;justify-content:center;align-items:center}.menu-btn__icon{width:25px;height:25px;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#fff;margin-bottom:5px}.menu-btn__text-screen{font-style:normal;font-size:12px;line-height:15px;letter-spacing:.4px;color:#fff}",""]);const i=r},902:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".score-wrapper{min-height:800px;padding:30px;background:rgba(0,0,0,.05)}.avatar{width:40px;height:40px;border-radius:50%;position:relative}.avatar img{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.title{font-weight:500;font-size:20px;line-height:30px;color:#000;margin-bottom:20px}.score__table{width:100%;text-align:left;border-collapse:collapse}th{border-bottom:1px solid rgba(33,33,33,.08);padding:20px 0 5px}.avatar-th{padding-right:20px}.profile-th{width:90%}.data-text{font-weight:700;font-size:14px;line-height:21px;letter-spacing:.1px;color:#333}.user__email{font-weight:400;font-size:12px;line-height:15px;letter-spacing:.4px}.score__data{display:flex}.score__label{margin-right:5px}.score__value{color:#2196f3}",""]);const i=r},591:(t,e,n)=>{n.d(e,{Z:()=>c});var o=n(645),r=n.n(o),i=n(667),a=n.n(i),s=n(951),l=r()((function(t){return t[1]})),d=a()(s);l.push([t.id,".settings{max-width:1000px;margin:50px auto 0;padding:30px;background:#fff;box-shadow:0px 6px 5px rgba(0,0,0,.24),0px 9px 18px rgba(0,0,0,.18)}.label{width:256px;margin-bottom:20px;overflow:hidden;position:relative;display:block;border-bottom:1px solid #e5e5e5}.label:after{content:url("+d+');position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:center;width:20px;pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box}.select{padding:5px 20px 5px 5px;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;width:100%}.dropdown,.dropdown__label,.dropdown__select{font-family:"Roboto",sans-serif;font-size:14px;line-height:21px;letter-spacing:.25px;color:rgba(0,0,0,.6)}.dropdown__name{font-family:"Roboto",sans-serif;font-weight:500;font-size:20px;line-height:30px;letter-spacing:.15px;color:rgba(0,0,0,.87)}',""]);const c=l},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},379:(t,e,n)=>{var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},o=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var u=a(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:c,updater:m(p,e),references:1}),o.push(c)}return o}function l(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var d,c=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function u(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=c(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var h=null,f=0;function m(t,e){var n,o,r;if(e.singleton){var i=f++;n=h||(h=l(e)),o=u.bind(null,n,i,!1),r=u.bind(null,n,i,!0)}else n=l(e),o=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var l=s(t,e),d=0;d<n.length;d++){var c=a(n[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=l}}}},951:(t,e,n)=>{t.exports=n.p+"fcaa07d2175b6a466b3a.svg"},210:(t,e,n)=>{t.exports=n.p+"e3e3bc68feca6cf50d00.svg"},232:(t,e,n)=>{t.exports=n.p+"2935ecb759b1ff84d2d9.svg"},913:(t,e,n)=>{t.exports=n.p+"8a08f7c789f4ccf5f02a.svg"},811:(t,e,n)=>{t.exports=n.p+"4674c82399e0a8316dcc.svg"},131:(t,e,n)=>{t.exports=n.p+"4043a42c43afa5acd624.svg"},990:(t,e,n)=>{t.exports=n.p+"d70abf7c80849a1bac80.svg"},861:(t,e,n)=>{t.exports=n.p+"396851a51c29046194f8.svg"},218:(t,e,n)=>{t.exports=n.p+"20ff3df0a5efddd80dbf.svg"},911:(t,e,n)=>{t.exports=n.p+"cc49f165aaa3f2d73991.jpg"},596:(t,e,n)=>{t.exports=n.p+"fa406d8a27c007683906.jpg"},144:(t,e,n)=>{t.exports=n.p+"dfcc4f6b71d4219a5351.jpg"},582:(t,e,n)=>{t.exports=n.p+"283961a3dbfd3dd58825.png"}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t=n(379),e=n.n(t),o=n(61);e()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var r=n(361);e()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;var i=n(596),a=n(861),s=n(144);const l=function(){function t(){}return t.clear=function(){document.querySelector(".main__body").innerHTML=""},t.buildNode=function(t,e,n){var o=document.createElement(t);return e&&(o.className=e),null==n||n.appendChild(o),o},t}();var d,c=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const u=function(t){function e(){var n=t.call(this)||this;n.rulesEl=e.buildNode("div","main__rules",null),e.buildNode("h2","title",n.rulesEl);var o=e.buildNode("div","main__row",n.rulesEl),r=e.buildNode("div","step",o),l=e.buildNode("div","step__num",r);e.buildNode("span",null,l).innerHTML="1",e.buildNode("p","step__text",r).innerHTML="Register new player in game";var d=e.buildNode("div","step__pic",o),c=e.buildNode("img",null,d);c.src=i,c.alt="";var u=e.buildNode("div","main__row",n.rulesEl),p=e.buildNode("div","step step_sm",u),h=e.buildNode("div","step__num",p);e.buildNode("span",null,h).innerHTML="2",e.buildNode("p","step__text",p).innerHTML="Configure your game settings";var f=e.buildNode("a","menu-btn_screen menu-btn_main",u),m=e.buildNode("div","menu-btn__inner",f),b=e.buildNode("div","menu-btn__icon",m);e.buildNode("img",null,b).src=a,e.buildNode("p","menu-btn__text-screen",m).innerHTML="Game&nbsp;Settings";var g=e.buildNode("div","main__row",n.rulesEl),v=e.buildNode("div","step",g),_=e.buildNode("div","step__num",v);e.buildNode("span",null,_).innerHTML="3",e.buildNode("p","step__text",v).innerHTML="Start you new game! \n    Remember card positions and match it before times up.";var x=e.buildNode("div","step__pic",g),w=e.buildNode("img","img-board",x);return w.src=s,w.alt="",n}return c(e,t),e.prototype.show=function(){document.querySelector(".main__body").appendChild(this.rulesEl)},e.prototype.hide=function(){var t=document.querySelector(".main__body");t.contains(this.rulesEl)&&(this.rulesEl=t.removeChild(this.rulesEl))},e}(l);var p=n(404);e()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var h=n(990),f=n(218),m=n(582),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const g=function(t){function e(){var n=t.call(this)||this,o=document.querySelector(".header"),r=e.buildNode("div","container",o),i=e.buildNode("div","header__body",r),s=e.buildNode("div","header__logo logo",i),l=e.buildNode("div","logo__item logo__item_top",s);e.buildNode("span",null,l).innerHTML="match";var d=e.buildNode("div","logo__item logo__item_bottom",s);e.buildNode("span",null,d).innerHTML="match";var c=e.buildNode("nav","header__nav",i),u=e.buildNode("ul","header__menu",c);e.buildNode("li","header__menu-item",u),n.rulesBtn=e.buildNode("a","header__menu-btn menu-btn",u);var p=e.buildNode("div","menu-btn__inner",n.rulesBtn),m=e.buildNode("div","menu-btn__icon",p),b=e.buildNode("img",null,m);b.src=h,b.alt="",e.buildNode("p","menu-btn__text",p).innerHTML="About&nbsp;Game",n.scoreBtn=e.buildNode("a","header__menu-btn menu-btn",u);var g=e.buildNode("div","menu-btn__inner",n.scoreBtn),v=e.buildNode("div","menu-btn__icon",g),_=e.buildNode("img",null,v);_.src=f,_.alt="",e.buildNode("p","menu-btn__text",g).innerHTML="Best&nbsp;Score",n.settingsBtn=e.buildNode("a","header__menu-btn menu-btn",u);var x=e.buildNode("div","menu-btn__inner",n.settingsBtn),w=e.buildNode("div","menu-btn__icon",x),y=e.buildNode("img",null,w);return y.src=a,y.alt="",e.buildNode("p","menu-btn__text",x).innerHTML="Game&nbsp;Settings",n.headerRightEl=e.buildNode("div","header__right",i),n.registerBtn=e.buildNode("button","header__btn btn",n.headerRightEl),n.registerBtn.innerHTML="register new player",n.startBtn=e.buildNode("button","header__btn btn",n.headerRightEl),n.startBtn.innerHTML="start game",n.stopBtn=e.buildNode("button","header__btn btn",n.headerRightEl),n.stopBtn.innerHTML="stop game",n}return b(e,t),e.prototype.rulesBtnBind=function(t){var e=this;this.rulesBtn.addEventListener("click",(function(){t(),e.highlightRulesRout()}))},e.prototype.scoreBtnBind=function(t){var e=this;this.scoreBtn.addEventListener("click",(function(){t(),e.highlightScoreRout()}))},e.prototype.settingsBtnBind=function(t){var e=this;this.settingsBtn.addEventListener("click",(function(){t(),e.highlightSettingsRout()}))},e.prototype.registerBtnBind=function(t){this.registerBtn.addEventListener("click",(function(){return t()}))},e.prototype.startBtnBind=function(t){this.startBtn.addEventListener("click",(function(){return t()}))},e.prototype.stopBtnBind=function(t){this.stopBtn.addEventListener("click",(function(){return t()}))},e.prototype.removeRegisterBtn=function(){this.headerRightEl.contains(this.registerBtn)&&this.headerRightEl.removeChild(this.registerBtn)},e.prototype.removeStopBtn=function(){this.headerRightEl.contains(this.stopBtn)&&this.headerRightEl.removeChild(this.stopBtn)},e.prototype.removeStartBtn=function(){this.headerRightEl.contains(this.startBtn)&&this.headerRightEl.removeChild(this.startBtn)},e.prototype.addStartBtn=function(){this.headerRightEl.contains(this.startBtn)||this.headerRightEl.insertBefore(this.startBtn,this.headerRightEl.firstChild)},e.prototype.addStopBtn=function(){this.headerRightEl.contains(this.stopBtn)||this.headerRightEl.insertBefore(this.stopBtn,this.headerRightEl.firstChild)},e.prototype.setAvatar=function(t){var e=document.createElement("img");this.avatar=document.createElement("div"),this.avatar.className="avatar",this.headerRightEl.appendChild(this.avatar),e.src=""===t?m:t,e.alt="",this.avatar.appendChild(e)},e.prototype.highlightRulesRout=function(){this.rulesBtn.classList.add("active-rout"),this.scoreBtn.classList.remove("active-rout"),this.settingsBtn.classList.remove("active-rout")},e.prototype.highlightScoreRout=function(){this.scoreBtn.classList.add("active-rout"),this.rulesBtn.classList.remove("active-rout"),this.settingsBtn.classList.remove("active-rout")},e.prototype.highlightSettingsRout=function(){this.settingsBtn.classList.add("active-rout"),this.rulesBtn.classList.remove("active-rout"),this.scoreBtn.classList.remove("active-rout")},e}(l),v=function(){function t(t){this.headerView=t,this.headerView.removeStopBtn(),this.headerView.removeStartBtn()}return t.prototype.rulesBtnClickBind=function(t){this.headerView.rulesBtnBind(t)},t.prototype.scoreBtnClickBind=function(t){this.headerView.scoreBtnBind(t)},t.prototype.settingsBtnClickBind=function(t){this.headerView.settingsBtnBind(t)},t.prototype.registerBtnClickBind=function(t){this.headerView.registerBtnBind(t)},t.prototype.startBtnClickBind=function(t){this.headerView.startBtnBind(t)},t.prototype.stopBtnClickBind=function(t){this.headerView.stopBtnBind(t)},t.prototype.prepareStartGame=function(){this.headerView.removeRegisterBtn(),this.headerView.removeStopBtn(),this.headerView.addStartBtn()},t.prototype.prepareStopGame=function(){this.headerView.removeStartBtn(),this.headerView.addStopBtn()},t.prototype.setAvatar=function(t){this.headerView.setAvatar(t)},t.prototype.highlightRulesRout=function(){this.headerView.highlightRulesRout()},t.prototype.highlightScoreRout=function(){this.headerView.highlightScoreRout()},t}();var _=n(676);e()(_.Z,{insert:"head",singleton:!1}),_.Z.locals;var x=n(131),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const y=function(t){function e(){var n=t.call(this)||this;n.coverEl=e.buildNode("div","cover",null);var o=e.buildNode("div","form",n.coverEl),r=e.buildNode("div","form__header",o);e.buildNode("h2","title",r).innerHTML="Register new Player";var i=e.buildNode("div","form__main",o),a=e.buildNode("div","form__fields",i),s=e.buildNode("div","form__field",a),l=e.buildNode("div","form__content",s);e.buildNode("label","form__label",l).innerHTML="First Name",n.firstNameEl=e.buildNode("input","form__input",l),n.firstNameEl.type="text",n.firstNameEl.id="firstname",n.firstNameEl.placeholder="Jessie",n.formMarkFirstNameEl=e.buildNode("div","form__mark default",s),e.buildNode("div","checkbox",n.formMarkFirstNameEl);var d=e.buildNode("div","form__field",a),c=e.buildNode("div","form__content",d);e.buildNode("label","form__label",c).innerHTML="Last Name",n.lastNameEl=e.buildNode("input","form__input",c),n.lastNameEl.type="text",n.lastNameEl.id="lastname",n.lastNameEl.placeholder="Doe",n.formMarkLastNameEl=e.buildNode("div","form__mark default",d),e.buildNode("div","checkbox",n.formMarkLastNameEl);var u=e.buildNode("div","form__field",a),p=e.buildNode("div","form__content",u);e.buildNode("label","form__label",p).innerHTML="E-mail",n.emailEl=e.buildNode("input","form__input",p),n.emailEl.type="email",n.emailEl.id="email",n.emailEl.placeholder="Jessie.Doe@gmail.com",n.formMarkEmailEl=e.buildNode("div","form__mark default",u),e.buildNode("div","checkbox",n.formMarkEmailEl),n.avatarInputEl=e.buildNode("input","hide",i),n.avatarInputEl.type="file",n.avatarInputEl.name="upload",n.avatarInputEl.id="avatar";var h=e.buildNode("label","form__avatar",i);h.htmlFor="avatar",n.avatarImgEl=e.buildNode("img",null,h),n.avatarImgEl.src=m,n.avatarImgEl.alt="";var f=e.buildNode("div","avatar__plus",h),b=e.buildNode("img",null,f);b.alt="",b.src=x;var g=e.buildNode("div","form__footer",o),v=e.buildNode("div","form__btns",g);return n.addBtnEl=e.buildNode("button","form__btn btn btn_add",v),n.addBtnEl.innerHTML="add user",n.addBtnEl.disabled=!0,n.cancelBtnEl=e.buildNode("button","form__btn btn btn_cancel",v),n.cancelBtnEl.innerHTML="cancel",n}return w(e,t),e.prototype.show=function(){document.querySelector(".wrapper").appendChild(this.coverEl)},e.prototype.hide=function(){var t=document.querySelector(".wrapper");t.contains(this.coverEl)&&t.removeChild(this.coverEl)},e.prototype.coverClickBind=function(t){this.coverEl.addEventListener("click",(function(e){var n=e.target;n&&!n.closest(".form")&&t()}))},e.prototype.clearInputs=function(){this.firstNameEl.value="",this.firstNameEl.dispatchEvent(new Event("input")),this.lastNameEl.value="",this.lastNameEl.dispatchEvent(new Event("input")),this.emailEl.value="",this.emailEl.dispatchEvent(new Event("input"))},e.fieldInputBind=function(t,e){t.addEventListener("input",(function(){return e(t.value)}))},e.prototype.firstNameInputBind=function(t){e.fieldInputBind(this.firstNameEl,t)},e.prototype.lastNameInputBind=function(t){e.fieldInputBind(this.lastNameEl,t)},e.prototype.emailInputBind=function(t){e.fieldInputBind(this.emailEl,t)},e.markFieldAsInvalid=function(t){t.classList.remove("default"),t.classList.remove("valid"),t.classList.add("invalid")},e.prototype.markFirstNameAsInvalid=function(t){e.markFieldAsInvalid(this.formMarkFirstNameEl),this.formMarkFirstNameEl.title=t,this.firstNameEl.title=t},e.prototype.markLastNameAsInvalid=function(t){e.markFieldAsInvalid(this.formMarkLastNameEl),this.formMarkLastNameEl.title=t,this.lastNameEl.title=t},e.prototype.markEmailAsInvalid=function(t){e.markFieldAsInvalid(this.formMarkEmailEl),this.formMarkEmailEl.title=t,this.emailEl.title=t},e.formMarkFieldAsValid=function(t){t.classList.remove("default"),t.classList.remove("invalid"),t.classList.add("valid")},e.prototype.markFirstNameAsValid=function(){e.formMarkFieldAsValid(this.formMarkFirstNameEl)},e.prototype.markLastNameAsValid=function(){e.formMarkFieldAsValid(this.formMarkLastNameEl)},e.prototype.markEmailAsValid=function(){e.formMarkFieldAsValid(this.formMarkEmailEl)},e.prototype.addBtnClickBind=function(t){this.addBtnEl.addEventListener("click",(function(){return t()}))},e.prototype.cancelBtnClickBind=function(t){this.cancelBtnEl.addEventListener("click",(function(){return t()}))},e.prototype.disableAddBtn=function(){this.addBtnEl.disabled=!0},e.prototype.enableAddBtn=function(){this.addBtnEl.disabled=!1},e.prototype.avatarChangeBind=function(t){this.avatarInputEl.addEventListener("change",(function(){return t()}))},e.prototype.getAvatarFile=function(){return this.avatarInputEl.files[0]},e.prototype.setAvatarImage=function(t){this.avatarImgEl.src=t},e.prototype.getAvatarImgEl=function(){return this.avatarImgEl},e.resizeAvatar=function(t,e){var n=document.createElement("canvas");n.width=120,n.height=120;var o=new Image;o.src=t,o.onload=function(){var t=n.getContext("2d"),r=o.width/o.height;t.drawImage(o,0,0,120,120/r);var i=n.toDataURL("image/png");e(i)}},e}(l),N=function(){function t(t,e,n,o){var r=this;this.registrationView=t,this.headerController=n,this.userModel=e,this.scoreService=o,this.processFirstName(),this.processLastName(),this.processEmail(),this.registrationView.addBtnClickBind((function(){r.headerController.prepareStartGame(),r.headerController.setAvatar(r.userModel.avatar),r.registrationView.hide(),r.scoreService.putUser(r.userModel)})),this.registrationView.cancelBtnClickBind((function(){r.registrationView.clearInputs(),r.validate()})),this.registrationView.avatarChangeBind((function(){r.addAvatar()})),this.registrationView.coverClickBind((function(){r.registrationView.hide()}))}return t.prototype.show=function(){this.registrationView.show()},t.prototype.validate=function(){var t=this.userModel.getFirstNameError(),e=this.userModel.getLastNameError(),n=this.userModel.getEmailError();""===t?this.registrationView.markFirstNameAsValid():this.registrationView.markFirstNameAsInvalid(t),""===e?this.registrationView.markLastNameAsValid():this.registrationView.markLastNameAsInvalid(e),""===n?this.registrationView.markEmailAsValid():this.registrationView.markEmailAsInvalid(n),""===t&&""===e&&""===n?this.registrationView.enableAddBtn():this.registrationView.disableAddBtn()},t.prototype.processFirstName=function(){var t=this;this.registrationView.firstNameInputBind((function(e){t.userModel.firstName=e,t.validate()}))},t.prototype.processLastName=function(){var t=this;this.registrationView.lastNameInputBind((function(e){t.userModel.lastName=e,t.validate()}))},t.prototype.processEmail=function(){var t=this;this.registrationView.emailInputBind((function(e){t.userModel.email=e,t.validate()}))},t.prototype.addAvatar=function(){var t=this,e=this.registrationView.getAvatarFile(),n=new FileReader;n.onload=function(){var e=n.result;y.resizeAvatar(""+e,(function(e){t.registrationView.setAvatarImage(e),t.userModel.avatar=e}))},n.readAsDataURL(e)},t}(),E=function(){function t(){this.firstName="",this.lastName="",this.email="",this.avatar="",this.score=0}return t.prototype.updateId=function(t){this.id=t},t.prototype.getFirstNameError=function(){return""===this.firstName?"First name can not be empty":new RegExp("^[^0-9 ~!@#$%*()_—+=|:;\"'`<>,.?/^][^~!@#$%*()_—+=|:;\"'`<>,.?/^]{0,30}$").test(this.firstName)?"":"First name must contain only letters"},t.prototype.getLastNameError=function(){return""===this.lastName?"Last name can not be empty":new RegExp("^[^0-9 ~!@#$%*()_—+=|:;\"'`<>,.?/^][^~!@#$%*()_—+=|:;\"'`<>,.?/^]{0,30}$").test(this.lastName)?"":"Last name must contain only letters"},t.prototype.getEmailError=function(){return""===this.email?"Email can not be empty":new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(this.email)?"":"Your email contains invalid symbol"},t}();var k;!function(t){t[t.Done=0]="Done",t[t.Unknown=1]="Unknown"}(k||(k={}));const B=function(t){this.imageUrl=t,this.cardStatus=k.Unknown,this.wrongDecisionNum=0,this.rightDecisionNum=0},C=function(){function t(){this.startTime=new Date}return t.prototype.getDeltaTime=function(){return(new Date).getTime()-this.startTime.getTime()},t}();var M=n(423);e()(M.Z,{insert:"head",singleton:!1}),M.Z.locals;var S=n(911),L=n(232),T=n(811),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const j=function(t){function e(n,o){var r=t.call(this)||this;r.cardEl=e.buildNode("div","card",null);var i=e.buildNode("div","front",r.cardEl);r.frontMarkEl=e.buildNode("img","front-mark",i),r.frontMarkEl.src="",r.frontCoverEl=e.buildNode("div","front-cover",i);var a=e.buildNode("div","pic pic-front",i),s=e.buildNode("img",null,a);s.src=n,s.alt="";var l=e.buildNode("div","back",r.cardEl);r.cardEl.style.cssText="flex-basis: calc("+100/o+"% - 10px); height: calc("+100/o+"% - 10px);";var d=e.buildNode("div","pic pic-back",l),c=e.buildNode("img",null,d);return c.src=S,c.alt="",r}return V(e,t),e.prototype.show=function(){this.boardEl=document.querySelector(".board"),this.boardEl.appendChild(this.cardEl)},e.prototype.cardClickBind=function(t){this.cardEl.addEventListener("click",(function(){return t()}))},e.prototype.showFront=function(){this.cardEl.classList.add("open")},e.prototype.showBack=function(){this.cardEl.classList.remove("open")},e.prototype.showDone=function(){this.frontCoverEl.classList.add("done"),this.frontCoverEl.classList.remove("failed"),this.frontMarkEl.src=L},e.prototype.showFailed=function(){this.frontCoverEl.classList.add("failed"),this.frontCoverEl.classList.remove("done"),this.frontMarkEl.src=T},e.prototype.showDefault=function(){this.frontCoverEl.classList.remove("failed"),this.frontMarkEl.src=""},e}(l);var O=n(754);e()(O.Z,{insert:"head",singleton:!1}),O.Z.locals;var R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const A=function(t){function e(){var n=t.call(this)||this;n.gameWrapper=e.buildNode("div","game-wrapper",null);var o=e.buildNode("div","board__box",n.gameWrapper);return n.boardEl=e.buildNode("div","board",o),n}return R(e,t),e.prototype.show=function(){document.querySelector(".main__body").appendChild(this.gameWrapper)},e.prototype.cleanBoard=function(){this.boardEl.innerHTML=""},e}(l);var I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const F=function(t){function e(){var n=t.call(this)||this;return n.timerBoxEl=e.buildNode("div","timer__box",null),n.timerValue=e.buildNode("span","timer__value",n.timerBoxEl),n.timerValue.innerHTML="00:00",n}return I(e,t),e.prototype.show=function(){var t=document.querySelector(".game-wrapper");t.insertBefore(this.timerBoxEl,t.firstChild)},e.prototype.updateTimer=function(t){var e=Math.floor(t/6e4),n=Math.floor(t/1e3)%60,o=("0"+e).substr(-2),r=("0"+n).substr(-2);this.timerValue.innerHTML=o+":"+r},e}(l),z=function(){function t(t,e){this.cardModel=t,this.cardView=e,this.cardView.show()}return t.prototype.cardClicBind=function(t){this.cardView.cardClickBind(t)},Object.defineProperty(t.prototype,"model",{get:function(){return this.cardModel},enumerable:!1,configurable:!0}),t.prototype.showFront=function(){this.cardView.showFront()},t.prototype.showBack=function(){this.cardView.showBack()},t.prototype.setDone=function(){this.cardView.showDone(),this.cardModel.cardStatus=k.Done,this.cardModel.rightDecisionNum+=1},t.prototype.setFailed=function(){this.cardView.showFailed(),this.cardModel.wrongDecisionNum+=1},t.prototype.showDefault=function(){this.cardView.showDefault()},t}(),D=function(){function t(t,e){this.timerView=t,this.timerModel=e}return t.prototype.start=function(){var t=this;this.timerView.show(),this.timerObj=window.setInterval((function(){t.tick()}),1e3)},t.prototype.stop=function(){window.clearInterval(this.timerObj)},t.prototype.tick=function(){var t=this.timerModel.getDeltaTime();this.timerView.updateTimer(t)},t}(),H=function(){function t(t,e,n,o,r){this.gameRoundView=t,this.gameRoundModel=e,this.scoreService=n,this.lastCardController=null,this.canOpenCard=!1,this.timerController=new D(new F,new C),this.headerController=o,this.dialogController=r}return t.prototype.show=function(){A.clear(),this.gameRoundView.show()},t.prototype.startGame=function(){this.canOpenCard=!1,A.clear(),this.gameRoundView.cleanBoard(),this.gameRoundModel.init(),this.gameRoundView.show(),this.timerController.start();var t=this.createCardControllers();this.showCardsBeforeStartGame(t),this.doOnCardClick(t)},t.prototype.createCardControllers=function(){var t=Math.sqrt(this.gameRoundModel.cards.length);return this.gameRoundModel.cards.map((function(e){return new z(e,new j(e.imageUrl,t))}))},t.prototype.doOnCardClick=function(t){var e=this;t.forEach((function(t){t.cardClicBind((function(){if(t.model.cardStatus!==k.Done&&e.canOpenCard){if(e.canOpenCard=!1,t.showFront(),null!==e.lastCardController){if(e.lastCardController===t)return void(e.canOpenCard=!0);if(e.lastCardController.model.imageUrl===t.model.imageUrl)e.lastCardController.setDone(),t.setDone(),e.canOpenCard=!0;else{e.lastCardController.setFailed(),t.setFailed();var n=e.lastCardController;setTimeout((function(){n.showBack(),t.showBack(),n.showDefault(),t.showDefault(),e.canOpenCard=!0}),1500)}e.lastCardController=null}else e.lastCardController=t,e.canOpenCard=!0;e.checkFinish()}}))}))},t.prototype.showCardsBeforeStartGame=function(t){var e=this;t.forEach((function(t){t.showFront()})),setTimeout((function(){e.canOpenCard=!0,t.forEach((function(t){t.showBack()}))}),3e4)},t.prototype.checkFinish=function(){for(var t=this,e=0;e<this.gameRoundModel.cards.length;e+=1)if(this.gameRoundModel.cards[e].cardStatus===k.Unknown)return;this.headerController.prepareStartGame();var n=this.gameRoundModel.calculateScore();setTimeout((function(){t.timerController.stop(),t.dialogController.show("Congratulations! You successfully found all matches on "+t.gameRoundModel.calculateTime()+"."),t.gameRoundModel.updateScoreModel(n),t.scoreService.putUser(t.gameRoundModel.user)}),1e3)},t}(),Z=function(){function t(t){this.rulesView=t}return t.prototype.showRules=function(){u.clear(),this.rulesView.show()},t}();var P;!function(t){t[t.Stopped=0]="Stopped",t[t.Running=1]="Running",t[t.Won=2]="Won",t[t.Lost=3]="Lost"}(P||(P={}));const U=function(){function t(t,e){this.user=t,this.setting=e}return t.prototype.init=function(){this.startTime=new Date,this.gameRoundStatus=P.Running;for(var t=[],e=0;e<this.setting.cardDifficulty.difficultySize/2;e+=1){var n="./"+this.setting.cardTheme.themeName+"\n/"+Math.floor(Math.random()*this.setting.cardTheme.themeCardNum)+".svg";t.push(n)}(t=t.concat(t)).sort((function(){return Math.random()-.5})),this.cards=t.map((function(t){return new B(t)})),this.calculateScore()},t.prototype.calculateTime=function(){var t=this.calculateDuration();return Math.floor(t/60)+" min "+Math.floor(t%60)+" sec"},t.prototype.calculateDuration=function(){return((new Date).getTime()-this.startTime.getTime())/1e3},t.prototype.calculateScore=function(){var t=this.calculateDuration(),e=this.setting.cardDifficulty.difficultySize;return Math.max(Math.round(e/2*100-10*t),0)},t.prototype.updateScoreModel=function(t){this.user.score=Math.max(this.user.score,t)},t}();var q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const G=function(t){function e(){var n=t.call(this)||this,o=document.querySelector("#root"),r=e.buildNode("div","wrapper",o);e.buildNode("header","header",r);var i=e.buildNode("main","main",r);return e.buildNode("div","main__body",i),n}return q(e,t),e}(l),$=function(t,e){this.difficultyName=t,this.difficultySize=e},W=function(t,e){this.themeName=t,this.themeCardNum=e},Y=function(){function t(t,e){this.cardDifficulty=t,this.cardTheme=e,this.themesList=[],this.themesList.push(new W("animals",100),new W("birds",49),new W("food",75),new W("people",50),new W("professions",50)),this.difficultyList=[],this.difficultyList.push(new $("small",16),new $("medium",36),new $("big",64))}return Object.defineProperty(t.prototype,"themes",{get:function(){return this.themesList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numbers",{get:function(){return this.difficultyList},enumerable:!1,configurable:!0}),t}();var J=n(591);e()(J.Z,{insert:"head",singleton:!1}),J.Z.locals;var K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Q=function(t){function e(n){var o=t.call(this)||this;o.settingsModel=n,o.settingsEl=e.buildNode("div","settings",null);var r=e.buildNode("div","dropdown",o.settingsEl);e.buildNode("p","dropdown__name",r);var i=e.buildNode("label","dropdown__label label",r);o.themesSelectEl=e.buildNode("select","dropdown__select select",i);var a=e.buildNode("div","dropdown",o.settingsEl);e.buildNode("p","dropdown__name",a);var s=e.buildNode("label","dropdown__label label",a);return o.difficultySelectEl=e.buildNode("select","dropdown__select select",s),o}return K(e,t),e.prototype.show=function(){var t=this;document.querySelector(".main__body").appendChild(this.settingsEl),0===this.themesSelectEl.childNodes.length&&this.settingsModel.themes.forEach((function(e){var n=document.createElement("option");n.className="dropdown__select select",n.innerHTML=e.themeName,t.themesSelectEl.appendChild(n),e.themeName===t.settingsModel.cardTheme.themeName&&(n.selected=!0)})),0===this.difficultySelectEl.childNodes.length&&this.settingsModel.numbers.forEach((function(e){var n=document.createElement("option");n.className="dropdown__select select",n.innerHTML=e.difficultyName,t.difficultySelectEl.appendChild(n),e.difficultyName===t.settingsModel.cardDifficulty.difficultyName&&(n.selected=!0)}))},e.prototype.themeChangeBind=function(t){var e=this;this.themesSelectEl.addEventListener("change",(function(){var n=e.settingsModel.themes.filter((function(t){return t.themeName===e.themesSelectEl.value}))[0];t(n)}))},e.prototype.difficultyChangeBind=function(t){var e=this;this.difficultySelectEl.addEventListener("change",(function(){var n=e.settingsModel.numbers.filter((function(t){return t.difficultyName===e.difficultySelectEl.value}))[0];t(n)}))},e}(l),X=function(){function t(t,e){var n=this;this.settingsView=t,this.settingsModel=e,this.settingsView.themeChangeBind((function(t){n.settingsModel.cardTheme=t})),this.settingsView.difficultyChangeBind((function(t){n.settingsModel.cardDifficulty=t}))}return t.prototype.show=function(){Q.clear(),this.settingsView.show()},t}();var tt=n(902);e()(tt.Z,{insert:"head",singleton:!1}),tt.Z.locals;var et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const nt=function(t){function e(){var n=t.call(this)||this;return n.scoreWrapperEl=e.buildNode("div","score-wrapper",null),e.buildNode("h2","title",n.scoreWrapperEl).innerHTML="Best players",n.scoreTableEl=e.buildNode("table","score__table",n.scoreWrapperEl),n}return et(e,t),e.prototype.show=function(t){var n=this;this.scoreTableEl.innerHTML="",document.querySelector(".main__body").appendChild(this.scoreWrapperEl),t.forEach((function(t){var o=e.buildNode("tr",null,n.scoreTableEl),r=e.buildNode("th","avatar-th",o),i=e.buildNode("div","avatar",r),a=e.buildNode("img","avatar__photo",i);""===t.avatar?a.src=m:a.src=t.avatar,a.alt="user photo";var s=e.buildNode("th","profile-th data-text",o),l=e.buildNode("div",null,s);e.buildNode("span","user__firstname data-text",l).innerHTML=t.firstName+" ",e.buildNode("span","user__lastname data-text",l).innerHTML=t.lastName+" ",e.buildNode("p","user__email",l).innerHTML=t.email;var d=e.buildNode("th","data-text",o),c=e.buildNode("div",null,d),u=e.buildNode("p","score__data",c);e.buildNode("span","score__label data-text",u).innerHTML="Score:",e.buildNode("span","score__value",u).innerHTML=t.score.toString()}))},e}(l),ot=function(){function t(t,e){this.scoreView=t,this.scoreService=e}return t.prototype.show=function(){var t=this;nt.clear(),this.scoreService.getTopUsers(10,(function(e){t.scoreView.show(e)}))},t}(),rt=function(){function t(){this.databaseName="zena86"}return t.prototype.getDbContext=function(t){var e=indexedDB.open(this.databaseName,1);e.onupgradeneeded=function(){var t=e.result;t.objectStoreNames.contains("users")||t.createObjectStore("users",{keyPath:"id",autoIncrement:!0}).createIndex("scoreIdx","score")},e.onerror=function(){throw new Error(""+e.error)},e.onsuccess=function(){var n=e.result;t(n)}},t.prototype.putUser=function(t){this.getDbContext((function(e){var n=e.transaction("users","readwrite").objectStore("users").put(t);n.onsuccess=function(){t.updateId(+n.result.toString())},n.onerror=function(){throw new Error("Unable to add data\r\nUser is already exist in your database!")}}))},t.prototype.getTopUsers=function(t,e){this.getDbContext((function(n){var o=n.transaction("users","readonly").objectStore("users").index("scoreIdx").openCursor(null,"prev"),r=[];o.onsuccess=function(){var n=o.result;n?(r.push(n.value),r.length<t?n.continue():e(r)):e(r)},o.onerror=function(){throw new Error(""+o.error)}}))},t}(),it=function(){function t(t){this.dialogView=t}return t.prototype.show=function(t){this.dialogView.show(t)},t.prototype.hide=function(){this.dialogView.hide()},t.prototype.okBtnClickBind=function(t){this.dialogView.okBtnClickBind(t)},t}();var at=n(394);e()(at.Z,{insert:"head",singleton:!1}),at.Z.locals;var st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const lt=function(t){function e(){var n=t.call(this)||this;n.coverEl=e.buildNode("div","cover",null);var o=e.buildNode("div","dialog-body",n.coverEl);return n.formAlertTextEl=e.buildNode("p","form__alert-text",o),n.okBtnEl=e.buildNode("button","form__btn btn btn_ok",o),n.okBtnEl.innerHTML="OK",n}return st(e,t),e.prototype.show=function(t){document.querySelector(".wrapper").appendChild(this.coverEl),this.formAlertTextEl.innerHTML=t},e.prototype.hide=function(){var t=document.querySelector(".wrapper");t.contains(this.coverEl)&&t.removeChild(this.coverEl)},e.prototype.okBtnClickBind=function(t){this.okBtnEl.addEventListener("click",(function(){return t()}))},e}(l);new(function(){function t(t){this.appView=t,this.settings=new Y(new $("small",16),new W("professions",50))}return t.prototype.init=function(){var t=this,e=new rt,n=new v(new g),o=new Z(new u),r=new X(new Q(this.settings),this.settings),i=new ot(new nt,e),a=new it(new lt);o.showRules(),n.highlightRulesRout(),n.rulesBtnClickBind((function(){o.showRules(),n.highlightScoreRout()})),n.scoreBtnClickBind((function(){i.show()})),n.settingsBtnClickBind((function(){r.show(),t.user&&n.prepareStartGame()})),n.registerBtnClickBind((function(){t.user=new E,new N(new y,t.user,n,e).show()})),a.okBtnClickBind((function(){a.hide(),i.show(),n.highlightScoreRout()})),n.startBtnClickBind((function(){var o=new U(t.user,t.settings);new H(new A,o,e,n,a).startGame(),n.prepareStopGame()})),n.stopBtnClickBind((function(){o.showRules(),n.prepareStartGame()}))},t}())(new G).init()})()})();